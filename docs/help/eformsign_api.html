<!DOCTYPE html>
<html class="writer-html5" lang="ja" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<<<<<<< HEAD
  <title>eformsign APIの使い方 &mdash; eformsign API guide 2021.01.11 ドキュメント</title>
=======
  <title>eformsign APIの使い方 &mdash; eformsign API guide 2024.05.23 ドキュメント</title>
>>>>>>> 4636b0ec54ff45c67e40e0320ee6a3b82bfb21b6
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/code-tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
<<<<<<< HEAD
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
=======
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
>>>>>>> 4636b0ec54ff45c67e40e0320ee6a3b82bfb21b6
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/translations.js"></script>
        <script src="../_static/code-tabs.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" />
    <link rel="next" title="eformsign Webhookの使い方" href="eformsign_webhook.html" />
<<<<<<< HEAD
    <link rel="prev" title="eformsign機能の埋め込み" href="eformsign_embedding.html" /> 
=======
    <link rel="prev" title="eformsign APIの始め方：実践ガイド" href="eformsign_api_quickstart.html" /> 
>>>>>>> 4636b0ec54ff45c67e40e0320ee6a3b82bfb21b6
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/forcs_b.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="eformsign_api_overview.html">eformsign APIガイド</a></li>
<<<<<<< HEAD
<li class="toctree-l1"><a class="reference internal" href="eformsign_embedding.html">eformsign機能の埋め込み</a></li>
=======
<li class="toctree-l1"><a class="reference internal" href="eformsign_embedding_JP.html">eformsign機能の埋め込み</a></li>
<li class="toctree-l1"><a class="reference internal" href="eformsign_api_quickstart.html">eformsign APIの始め方：実践ガイド</a></li>
>>>>>>> 4636b0ec54ff45c67e40e0320ee6a3b82bfb21b6
<li class="toctree-l1 current"><a class="current reference internal" href="#">eformsign APIの使い方</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">始める前に</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#idid">会社IDと文書IDの確認</a></li>
<li class="toctree-l3"><a class="reference internal" href="#api">APIキーの作成および秘密鍵の確認</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#eformsign-signature">署名の作成</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#java">Java</a></li>
<li class="toctree-l3"><a class="reference internal" href="#javascript-node-js">Javascript(Node.JS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#python">Python</a></li>
<li class="toctree-l3"><a class="reference internal" href="#php">PHP</a></li>
<li class="toctree-l3"><a class="reference internal" href="#c-net">C# (.NET)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">各言語のコード作成例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id4">API提供リスト</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#access-token-api">トークンの発行と更新のAPI</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id6"><strong>トークンの発行</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8"><strong>トークンの更新</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id10">文書の作成と処理のAPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id27">メンバーとグループ管理のAPI</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id30">メンバー管理 API</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id34">グループ管理 API</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id39">APIコード</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id40">APIステータスコード</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id41">200</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id42">202</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id43">400</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id44">403</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id45">405</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id46">500</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#user-type">ユーザータイプ(user_type)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id47">ステップタイプ</a></li>
<li class="toctree-l3"><a class="reference internal" href="#current-status-status-type">文書の現在のステータスタイプ (current_status.status_type)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#next-status-status-type">文書の문서 다음 상태 타입(next_status.status_type)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#action-type">アクションタイプ(action_type)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="eformsign_webhook.html">eformsign Webhookの使い方</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">eformsign API guide</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">eformsign APIの使い方</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/help/eformsign_api.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="eformsign-api">
<h1>eformsign APIの使い方<a class="headerlink" href="#eformsign-api" title="この見出しへのパーマリンク"></a></h1>
<p>eformsignが提供するAPIを利用し、eformsignの機能をお客様のシステム/サービス内で呼び出し、ご利用いただけます。</p>
<section id="id1">
<h2>始める前に<a class="headerlink" href="#id1" title="この見出しへのパーマリンク"></a></h2>
<p>eformsign APIを利用するためには、以下のような事前準備が必要です。</p>
<ul class="simple">
<li><p>会社IDと文書IDの確認</p></li>
<li><p>APIキーの作成および秘密鍵の確認</p></li>
<li><p>署名の作成</p></li>
</ul>
<div class="admonition caution">
<p class="admonition-title">注意</p>
<p>署名の作成には30秒の時間制限があります。30秒以内に署名を作成し、トークンを取得してください。</p>
</div>
<section id="idid">
<h3>会社IDと文書IDの確認<a class="headerlink" href="#idid" title="この見出しへのパーマリンク"></a></h3>
<p>eformsign APIを使用するためには、会社IDと照会対象の文書IDが必要です。</p>
<p>eformsignサービスにログインし、会社IDと文書IDを確認してください。</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>会社IDは、左側のメニューの <strong>会社管理 &gt; 会社情報</strong> メニューの <strong>基本情報</strong> タブから確認することができます。</p>
<p><a class="reference internal" href="../_images/company_id.png"><img alt="image1" src="../_images/company_id.png" style="width: 600px;" /></a></p>
<p>文書IDは、各文書トレイの右上にある文書アイコン(<img alt="image2" src="../_images/column_icon.png" />)をクリックし、文書IDコラムを追加すると、照会したい文書のID を確認することができます。</p>
<p><img alt="image3" src="../_images/document_id.png" /></p>
</div>
</section>
<section id="api">
<span id="apikey"></span><h3>APIキーの作成および秘密鍵の確認<a class="headerlink" href="#api" title="この見出しへのパーマリンク"></a></h3>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>APIキーは代表管理者のみ発行することができます。代表管理者でない場合は、代表管理者にご確認ください。</p>
</div>
<ol class="arabic simple">
<li><p>eformsignに代表管理者としてログインし、メニューツリーから <strong>[コネクト] &gt;[ API/Webhook]</strong> に移動します。</p></li>
</ol>
<a class="reference internal image-reference" href="../_images/apikey1.PNG"><img alt="コネクト &gt; API/Webhook メニューの位置" src="../_images/apikey1.PNG" style="width: 700px;" /></a>
<ol class="arabic simple" start="2">
<li><p><strong>[APIキー]</strong> タブを選択し、<strong>APIキーの作成</strong> ボタンをクリックします。</p></li>
</ol>
<a class="reference internal image-reference" href="../_images/apikey2.PNG"><img alt="「APIキー登録」ボタン" src="../_images/apikey2.PNG" style="width: 700px;" /></a>
<ol class="arabic simple" start="3">
<li><p><strong>APIキーの作成</strong> ポップアップ画面にエイリアスとアプリケーション名を入力し、<strong>保存</strong> ボタンをクリックします。</p></li>
</ol>
<a class="reference internal image-reference" href="../_images/apikey3.PNG"><img alt="「APIキーの作成」ポップアップ画面" src="../_images/apikey3.PNG" style="width: 700px;" /></a>
<ol class="arabic simple" start="4">
<li><p><strong>検証タイプ</strong>を選択し、保存します。</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>検証タイプは <strong>Bearer token, Basic authentication, eformsign signature</strong> の中から選択することができます。</p>
<ul class="simple">
<li><p><strong>Bearer Token</strong>: 事前に設定した値をもとに検証を行う方式です。</p></li>
</ul>
<blockquote>
<div><a class="reference internal image-reference" href="../_images/apikeyauth1.PNG"><img alt="「APIキーの作成」ポップアップ1" src="../_images/apikeyauth1.PNG" style="width: 300px;" /></a>
<p>検証タイプを <strong>Bearer token</strong>に設定し、トークンの値を <strong>値</strong>欄に入力し、 <strong>保存</strong>します。 <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/token/post-api_auth-access_token">Access Tokenの発行</a>の際に要請ヘッダeformsign_signatureにトークンの値を <strong>Bearer トークンの値</strong> の形式で入力します。以下の例をご参照ください。</p>
<div class="highlight-Javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">curl</span><span class="w"> </span><span class="o">--</span><span class="nx">location</span><span class="w"> </span><span class="o">--</span><span class="nx">request</span><span class="w"> </span><span class="nx">POST</span><span class="w"> </span><span class="s1">&#39;https://service.eformsign.com/v2.0/api_auth/access_token&#39;</span><span class="w"> </span><span class="o">\</span>
<span class="o">--</span><span class="nx">header</span><span class="w"> </span><span class="s1">&#39;eformsign_signature: Bearer {トークンの値}&#39;</span><span class="w"> </span><span class="o">\</span>
<span class="o">--</span><span class="nx">header</span><span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w"> </span><span class="o">\</span>
<span class="o">--</span><span class="nx">header</span><span class="w"> </span><span class="s1">&#39;Authorization: Bearer {base64 encoded api key }&#39;</span><span class="w"> </span><span class="o">\</span>
<span class="o">--</span><span class="nx">data</span><span class="o">-</span><span class="nx">raw</span><span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1"> &quot;execution_time&quot;:{現在時刻ms},</span>
<span class="s1"> &quot;member_id&quot;: {eformsignアカウント}</span>
<span class="s1">}&#39;</span>
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><p><strong>Basic Authentication</strong>: IDとパスワードをもとに検証を行う方式です。</p></li>
</ul>
<blockquote>
<div><a class="reference internal image-reference" href="../_images/apikeyauth2.PNG"><img alt="「APIキーの作成」ポップアップ2" src="../_images/apikeyauth2.PNG" style="width: 300px;" /></a>
<p>検証タイプを <strong>Basic authentication</strong>に設定し、使用するIDとパスワードを入力後 <strong>保存</strong>します。 <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/token/post-api_auth-access_token">Access Tokenの発行</a>の際は要請ヘッダeformsign_signatureに <strong>ID:パスワード</strong> の形式でBase64インコードした値を入力します。以下の例をご参照ください。</p>
<div class="highlight-Javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">curl</span><span class="w"> </span><span class="o">--</span><span class="nx">location</span><span class="w"> </span><span class="o">--</span><span class="nx">request</span><span class="w"> </span><span class="nx">POST</span><span class="w"> </span><span class="s1">&#39;https://service.eformsign.com/v2.0/api_auth/access_token&#39;</span><span class="w"> </span><span class="o">\</span>
<span class="o">--</span><span class="nx">header</span><span class="w"> </span><span class="s1">&#39;eformsign_signature: Basic {base64 encoded &quot;id:password&quot;}&#39;</span><span class="w"> </span><span class="o">\</span>
<span class="o">--</span><span class="nx">header</span><span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w"> </span><span class="o">\</span>
<span class="o">--</span><span class="nx">header</span><span class="w"> </span><span class="s1">&#39;Authorization: Bearer {base64 encoded api key }&#39;</span><span class="w"> </span><span class="o">\</span>
<span class="o">--</span><span class="nx">data</span><span class="o">-</span><span class="nx">raw</span><span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1"> &quot;execution_time&quot;:{現在時刻ms},</span>
<span class="s1"> &quot;member_id&quot;: {eformsignアカウント}</span>
<span class="s1">}&#39;</span>
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><p><strong>eformsign Signature</strong>: eformsign Signatureの署名の値を利用して検証を行う方式です。検証タイプを <strong>eformsign signature</strong>に設定し、保存します。eformsign Signatureで署名を生成する方法は <a class="reference external" href="#eformsign-signature">署名の生成方法</a>をご参照ください。</p></li>
</ul>
</div>
<ol class="arabic simple" start="4">
<li><p>作成されたキーリストから <strong>キーを表示</strong> ボタンをクリックすると、APIキーと秘密鍵を確認することができます。</p></li>
</ol>
<a class="reference internal image-reference" href="../_images/apikey4.PNG"><img alt="「APIキーを表示」ボタンの位置" src="../_images/apikey4.PNG" style="width: 700px;" /></a>
<a class="reference internal image-reference" href="../_images/apikey5.PNG"><img alt="APIキーと秘密鍵の確認" src="../_images/apikey5.PNG" style="width: 700px;" /></a>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p><strong>APIキーの修正方法</strong></p>
<dl class="simple">
<dt>作成されたキーリストから <strong>修正</strong> ボタンをクリックし、エイリアスとアプリケーション名を修正することができます。</dt><dd><p>また、ステータス領域をクリックし、活性/非活性状態に変更することもできます。</p>
</dd>
</dl>
</div>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p><strong>APIキーの削除</strong></p>
<p>作成されたキーリストから <strong>削除</strong> ボタンをクリックして、APIキーを削除することができます。</p>
</div>
</section>
</section>
<section id="eformsign-signature">
<span id="id2"></span><h2>署名の作成<a class="headerlink" href="#eformsign-signature" title="この見出しへのパーマリンク"></a></h2>
<p>APIを使用するためのトークンを発行するためには、まずeformsign_signatureという署名を生成する必要があります。
eformsign_signatureは非対称キー方式と楕円曲線暗号化(Elliptic curve cryptography)を使用しています。
サーバーの現在時刻をString(UTF-8)に変換し、<a class="reference external" href="#apikey">API Keyの発行</a>で発行された秘密鍵(Private key)で署名後、署名したデータをhex stringに変換することで署名を生成することができます。</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>楕円曲線暗号は、公開キー暗号化方式の一つで、データ暗号化デジタル認証など現在もっとも広く使われている暗号化方式です。</p>
</div>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>署名アルゴリズムには、SHA256withECDSAを使用しています。</p>
</div>
<p>署名の生成方法については、Java、JavaScript (Node.js)、Python、PHPと言語ごとにご説明します。</p>
<p>署名の作成方法については、Java、Python、PHPの各言語に分けて説明します。</p>
<section id="java">
<h3>Java<a class="headerlink" href="#java" title="この見出しへのパーマリンク"></a></h3>
<p>Javaの例では、署名生成のためにjava.securityパッケージを使用します。</p>
</section>
<section id="javascript-node-js">
<h3>Javascript(Node.JS)<a class="headerlink" href="#javascript-node-js" title="この見出しへのパーマリンク"></a></h3>
<p>Jsrsasign(<a class="reference external" href="https://kjur.github.io/jsrsasign/">https://kjur.github.io/jsrsasign/</a>) npmをインストールしてください。</p>
<div class="highlight-Javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">npm</span><span class="w"> </span><span class="nx">install</span><span class="w"> </span><span class="nx">jsrsasign</span>
</pre></div>
</div>
</section>
<section id="python">
<h3>Python<a class="headerlink" href="#python" title="この見出しへのパーマリンク"></a></h3>
<p>キーフォーマット処理用のライブラリーを使用する必要があります。作業の開始前に、以下のコマンドを実行してライブラリーをインストールしてください。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">warner</span><span class="o">/</span><span class="n">python</span><span class="o">-</span><span class="n">ecdsa</span><span class="o">/</span><span class="n">archive</span><span class="o">/</span><span class="n">master</span><span class="o">.</span><span class="n">zip</span>
</pre></div>
</div>
</section>
<section id="php">
<h3>PHP<a class="headerlink" href="#php" title="この見出しへのパーマリンク"></a></h3>
<p>PHPの例を使用するには、PHP OpenSSLライブラリがインストールされている必要があります。以下のようにkeycheck.inc.php、test.phpファイルが同じパス上に位置するように設定し、作業を進めてください。</p>
</section>
<section id="c-net">
<h3>C# (.NET)<a class="headerlink" href="#c-net" title="この見出しへのパーマリンク"></a></h3>
<p>暗号化に関する処理のため、BouncyCastleライブラリをインストールする必要があります。(NuGetパッケージでもインストール可、MIT License)</p>
</section>
<section id="id3">
<h3>各言語のコード作成例<a class="headerlink" href="#id3" title="この見出しへのパーマリンク"></a></h3>
<p>各言語のコード作成例をご紹介します。</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>execution_timeはlong型です。そのため、execution_timeを入力する際はAccess Token 発行時に確認した時間の後ろに「L」を追記してください。</p>
</div>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>署名を生成するには秘密鍵が必要です。
秘密鍵を確認する方法は <a class="reference external" href="#apikey">API Keyの発行と確認</a>をご参照ください。</p>
</div>
<div class="tabs docutils container" data-tabgroup="">
<ul class="tabbar">
<li class="tabbutton selected" data-id="0" onclick="sphinx_code_tabs_onclick(this)">
Java</li><li class="tabbutton" data-id="1" onclick="sphinx_code_tabs_onclick(this)">
Javascript(Node.JS)</li><li class="tabbutton" data-id="2" onclick="sphinx_code_tabs_onclick(this)">
Python</li><li class="tabbutton" data-id="3" onclick="sphinx_code_tabs_onclick(this)">
PHP - keycheck.inc.php</li><li class="tabbutton" data-id="4" onclick="sphinx_code_tabs_onclick(this)">
PHP - test.php</li><li class="tabbutton" data-id="5" onclick="sphinx_code_tabs_onclick(this)">
C#(.NET) - Program.cs</li></ul><div class="tab codetab selected" data-id="0">
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.security.KeyFactory</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.security.spec.PKCS8EncodedKeySpec</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.security.PrivateKey</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.security.Signature</span><span class="p">;</span>

<span class="c1">//private key</span>
<span class="n">String</span><span class="w"> </span><span class="n">privateKeyHexStr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;発行したprivate keyを入力(String型)&quot;</span><span class="p">;</span>
<span class="n">KeyFactory</span><span class="w"> </span><span class="n">keyFact</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">KeyFactory</span><span class="p">.</span><span class="na">getInstance</span><span class="p">(</span><span class="s">&quot;EC&quot;</span><span class="p">);</span>
<span class="n">PKCS8EncodedKeySpec</span><span class="w"> </span><span class="n">psks8KeySpec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PKCS8EncodedKeySpec</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigInteger</span><span class="p">(</span><span class="n">privateKeyHexStr</span><span class="p">,</span><span class="mi">16</span><span class="p">).</span><span class="na">toByteArray</span><span class="p">());</span>
<span class="n">PrivateKey</span><span class="w"> </span><span class="n">privateKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">keyFact</span><span class="p">.</span><span class="na">generatePrivate</span><span class="p">(</span><span class="n">psks8KeySpec</span><span class="p">);</span>

<span class="c1">//execution_time サーバー時刻</span>
<span class="kt">long</span><span class="w"> </span><span class="n">execution_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Date</span><span class="p">().</span><span class="na">getTime</span><span class="p">();</span>
<span class="c1">//long execution_time = 1611537340731L;     //long型のため、作成された時間の後ろにLを追記</span>
<span class="n">String</span><span class="w"> </span><span class="n">execution_time_str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">String</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="n">execution_time</span><span class="p">);</span>

<span class="c1">//eformsign_signatureの生成</span>
<span class="n">Signature</span><span class="w"> </span><span class="n">ecdsa</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Signature</span><span class="p">.</span><span class="na">getInstance</span><span class="p">(</span><span class="s">&quot;SHA256withECDSA&quot;</span><span class="p">);</span>
<span class="n">ecdsa</span><span class="p">.</span><span class="na">initSign</span><span class="p">(</span><span class="n">privateKey</span><span class="p">);</span>
<span class="n">ecdsa</span><span class="p">.</span><span class="na">update</span><span class="p">(</span><span class="n">execution_time_str</span><span class="p">.</span><span class="na">getBytes</span><span class="p">(</span><span class="s">&quot;UTF-8&quot;</span><span class="p">));</span>
<span class="n">String</span><span class="w"> </span><span class="n">eformsign_signature</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BigInteger</span><span class="p">(</span><span class="n">ecdsa</span><span class="p">.</span><span class="na">sign</span><span class="p">()).</span><span class="na">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">);</span>


<span class="c1">//現在時刻と現在時刻の署名値</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">print</span><span class="p">(</span><span class="s">&quot;execution_time : &quot;</span><span class="o">+</span><span class="n">execution_time</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">print</span><span class="p">(</span><span class="s">&quot;eformsign_signature : &quot;</span><span class="o">+</span><span class="n">eformsign_signature</span><span class="p">);</span>
</pre></div>
</div>
</div><div class="tab codetab" data-id="1">
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">rs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;jsrsasign&#39;</span><span class="p">);</span>


<span class="c1">// User-Data-Here</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">execution_time</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span><span class="o">+</span><span class="s2">&quot;&quot;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">privateKeyHex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;発行したprivate key(String型)&quot;</span><span class="p">;</span>

<span class="c1">// User-Data-Here</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">privateKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">rs</span><span class="p">.</span><span class="nx">KEYUTIL</span><span class="p">.</span><span class="nx">getKeyFromPlainPrivatePKCS8Hex</span><span class="p">(</span><span class="nx">privateKeyHex</span><span class="p">);</span>

<span class="c1">// Sign</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">s_sig</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">rs</span><span class="p">.</span><span class="nx">Signature</span><span class="p">({</span><span class="nx">alg</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;SHA256withECDSA&#39;</span><span class="p">});</span>
<span class="nx">s_sig</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">privateKey</span><span class="p">);</span>
<span class="nx">s_sig</span><span class="p">.</span><span class="nx">updateString</span><span class="p">(</span><span class="nx">execution_time</span><span class="p">);</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">signature</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">s_sig</span><span class="p">.</span><span class="nx">sign</span><span class="p">();</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;data:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">execution_time</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;eformsign_signature:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">signature</span><span class="p">);</span>
</pre></div>
</div>
</div><div class="tab codetab" data-id="2">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">binascii</span>

<span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">time</span>
<span class="kn">from</span> <span class="nn">ecdsa</span> <span class="kn">import</span> <span class="n">SigningKey</span><span class="p">,</span> <span class="n">VerifyingKey</span><span class="p">,</span> <span class="n">BadSignatureError</span>
<span class="kn">from</span> <span class="nn">ecdsa.util</span> <span class="kn">import</span> <span class="n">sigencode_der</span><span class="p">,</span> <span class="n">sigdecode_der</span>

<span class="c1"># private key</span>
<span class="n">privateKeyHex</span> <span class="o">=</span> <span class="s2">&quot;発行したprivate key(String型)&quot;</span>
<span class="n">privateKey</span> <span class="o">=</span> <span class="n">SigningKey</span><span class="o">.</span><span class="n">from_der</span><span class="p">(</span><span class="n">binascii</span><span class="o">.</span><span class="n">unhexlify</span><span class="p">(</span><span class="n">privateKeyHex</span><span class="p">))</span>

<span class="c1"># execution_time - サーバー時刻</span>
<span class="n">execution_time_int</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">execution_time</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">execution_time_int</span><span class="p">)</span>

<span class="c1"># eformsign_signature作成</span>
<span class="n">eformsign_signature</span> <span class="o">=</span> <span class="n">privateKey</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="n">execution_time</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">),</span> <span class="n">hashfunc</span><span class="o">=</span><span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">,</span> <span class="n">sigencode</span><span class="o">=</span><span class="n">sigencode_der</span><span class="p">)</span>

<span class="c1"># 現在時刻と現在時刻の署名値</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;execution_time : &quot;</span> <span class="o">+</span> <span class="n">execution_time</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;eformsign_signature : &quot;</span> <span class="o">+</span> <span class="n">binascii</span><span class="o">.</span><span class="n">hexlify</span><span class="p">(</span><span class="n">eformsign_signature</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div><div class="tab codetab" data-id="3">
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
<span class="k">namespace</span> <span class="nx">eformsignECDSA</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">PublicKey</span>
<span class="p">{</span>

    <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nv">$str</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$pem_data</span> <span class="o">=</span> <span class="nb">base64_encode</span><span class="p">(</span><span class="nb">hex2bin</span><span class="p">(</span><span class="nv">$str</span><span class="p">));</span>
        <span class="nv">$offset</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="nv">$pem</span> <span class="o">=</span> <span class="s2">&quot;-----BEGIN PUBLIC KEY-----</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="nv">$offset</span> <span class="o">&lt;</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$pem_data</span><span class="p">))</span> <span class="p">{</span>
            <span class="nv">$pem</span> <span class="o">=</span> <span class="nv">$pem</span> <span class="o">.</span> <span class="nb">substr</span><span class="p">(</span><span class="nv">$pem_data</span><span class="p">,</span> <span class="nv">$offset</span><span class="p">,</span> <span class="mi">64</span><span class="p">)</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
            <span class="nv">$offset</span> <span class="o">=</span> <span class="nv">$offset</span> <span class="o">+</span> <span class="mi">64</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nv">$pem</span> <span class="o">=</span> <span class="nv">$pem</span> <span class="o">.</span> <span class="s2">&quot;-----END PUBLIC KEY-----</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">openSslPublicKey</span> <span class="o">=</span> <span class="nb">openssl_get_publickey</span><span class="p">(</span><span class="nv">$pem</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">PrivateKey</span>
<span class="p">{</span>

    <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nv">$str</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$pem_data</span> <span class="o">=</span> <span class="nb">base64_encode</span><span class="p">(</span><span class="nb">hex2bin</span><span class="p">(</span><span class="nv">$str</span><span class="p">));</span>
        <span class="nv">$offset</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="nv">$pem</span> <span class="o">=</span> <span class="s2">&quot;-----BEGIN EC PRIVATE KEY-----</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="nv">$offset</span> <span class="o">&lt;</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$pem_data</span><span class="p">))</span> <span class="p">{</span>
            <span class="nv">$pem</span> <span class="o">=</span> <span class="nv">$pem</span> <span class="o">.</span> <span class="nb">substr</span><span class="p">(</span><span class="nv">$pem_data</span><span class="p">,</span> <span class="nv">$offset</span><span class="p">,</span> <span class="mi">64</span><span class="p">)</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
            <span class="nv">$offset</span> <span class="o">=</span> <span class="nv">$offset</span> <span class="o">+</span> <span class="mi">64</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nv">$pem</span> <span class="o">=</span> <span class="nv">$pem</span> <span class="o">.</span> <span class="s2">&quot;-----END EC PRIVATE KEY-----</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">openSslPrivateKey</span> <span class="o">=</span> <span class="nb">openssl_get_privatekey</span><span class="p">(</span><span class="nv">$pem</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>


<span class="k">function</span> <span class="nf">getNowMillisecond</span><span class="p">()</span>
<span class="p">{</span>
  <span class="k">list</span><span class="p">(</span><span class="nv">$microtime</span><span class="p">,</span><span class="nv">$timestamp</span><span class="p">)</span> <span class="o">=</span> <span class="nb">explode</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span><span class="nb">microtime</span><span class="p">());</span>
  <span class="nv">$time</span> <span class="o">=</span> <span class="nv">$timestamp</span><span class="o">.</span><span class="nb">substr</span><span class="p">(</span><span class="nv">$microtime</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>

  <span class="k">return</span> <span class="nv">$time</span><span class="p">;</span>
<span class="p">}</span>


<span class="k">function</span> <span class="nf">Sign</span><span class="p">(</span><span class="nv">$message</span><span class="p">,</span> <span class="nv">$privateKey</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nb">openssl_sign</span><span class="p">(</span><span class="nv">$message</span><span class="p">,</span> <span class="nv">$signature</span><span class="p">,</span> <span class="nv">$privateKey</span><span class="o">-&gt;</span><span class="na">openSslPrivateKey</span><span class="p">,</span> <span class="nx">OPENSSL_ALGO_SHA256</span><span class="p">);</span>
    <span class="k">return</span> <span class="nv">$signature</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
</pre></div>
</div>
</div><div class="tab codetab" data-id="4">
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="no">__DIR__</span> <span class="o">.</span> <span class="s1">&#39;/keycheck.inc.php&#39;</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">eformsignECDSA\PrivateKey</span><span class="p">;</span>


<span class="nb">define</span><span class="p">(</span><span class="s1">&#39;PRIVATE_KEY&#39;</span><span class="p">,</span> <span class="s1">&#39;発行したprivate key(String型)&#39;</span><span class="p">);</span>


<span class="c1">//private key設定</span>
<span class="nv">$privateKey</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PrivateKey</span><span class="p">(</span><span class="nx">PRIVATE_KEY</span><span class="p">);</span>


<span class="c1">//execution_time - サーバー時刻</span>
<span class="nv">$execution_time</span> <span class="o">=</span> <span class="nx">eformsignECDSA\getNowMillisecond</span><span class="p">();</span>


<span class="c1">//eformsign_signatureの生成</span>
<span class="nv">$signature</span> <span class="o">=</span> <span class="nx">eformsignECDSA\Sign</span><span class="p">(</span><span class="nv">$execution_time</span><span class="p">,</span> <span class="nv">$privateKey</span><span class="p">);</span>


<span class="c1">//現在時刻および現在時刻の署名値</span>
<span class="k">print</span> <span class="s1">&#39;execution_time : &#39;</span> <span class="o">.</span> <span class="nv">$execution_time</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
<span class="k">print</span> <span class="s1">&#39;eformsign_signature : &#39;</span> <span class="o">.</span> <span class="nb">bin2hex</span><span class="p">(</span><span class="nv">$signature</span><span class="p">)</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
<span class="cp">?&gt;</span>
</pre></div>
</div>
</div><div class="tab codetab" data-id="5">
<div class="highlight-C# notranslate"><div class="highlight"><pre><span></span><span class="k">using</span><span class="w"> </span><span class="nn">System</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">System.Text</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">Org.BouncyCastle.Crypto</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">Org.BouncyCastle.Security</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">Org.BouncyCastle.Crypto.Parameters</span><span class="p">;</span>


<span class="k">namespace</span><span class="w"> </span><span class="nn">eformsign_signature</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">class</span><span class="w"> </span><span class="nc">Program</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">private</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="k">readonly</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">HASH_ENCRYPTION_ALGORITHM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;SHA256withECDSA&quot;</span><span class="p">;</span>


<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="kt">byte</span><span class="p">[]</span><span class="w"> </span><span class="n">privateKeyBytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">HexStringToByteArray</span><span class="p">(</span><span class="s">&quot;ここに発行した秘密鍵を入力(String型)&quot;</span><span class="p">);</span>

<span class="w">            </span><span class="n">DateTime</span><span class="w"> </span><span class="n">unixEpoch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DateTime</span><span class="p">(</span><span class="m">1970</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">);</span>
<span class="w">            </span><span class="n">DateTime</span><span class="w"> </span><span class="n">currentTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">;</span>
<span class="w">            </span><span class="n">TimeSpan</span><span class="w"> </span><span class="n">timeDiff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">currentTime</span><span class="p">.</span><span class="n">Subtract</span><span class="p">(</span><span class="n">unixEpoch</span><span class="p">);</span>
<span class="w">            </span><span class="kt">long</span><span class="w"> </span><span class="n">unixCurrentTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">long</span><span class="p">)</span><span class="n">timeDiff</span><span class="p">.</span><span class="n">TotalMilliseconds</span><span class="p">;</span>
<span class="w">            </span><span class="kt">string</span><span class="w"> </span><span class="n">execution_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">unixCurrentTime</span><span class="p">.</span><span class="n">ToString</span><span class="p">();</span>


<span class="w">            </span><span class="n">ISigner</span><span class="w"> </span><span class="n">signer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SignerUtilities</span><span class="p">.</span><span class="n">GetSigner</span><span class="p">(</span><span class="s">&quot;SHA256withECDSA&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">signer</span><span class="p">.</span><span class="n">Init</span><span class="p">(</span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">ECPrivateKeyParameters</span><span class="p">)</span><span class="n">PrivateKeyFactory</span><span class="p">.</span><span class="n">CreateKey</span><span class="p">(</span><span class="n">privateKeyBytes</span><span class="p">));</span>


<span class="w">            </span><span class="kt">byte</span><span class="p">[]</span><span class="w"> </span><span class="n">dataBytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">.</span><span class="n">GetBytes</span><span class="p">(</span><span class="n">execution_time</span><span class="p">);</span>


<span class="w">            </span><span class="n">signer</span><span class="p">.</span><span class="n">BlockUpdate</span><span class="p">(</span><span class="n">dataBytes</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">dataBytes</span><span class="p">.</span><span class="n">Length</span><span class="p">);</span>
<span class="w">            </span><span class="kt">byte</span><span class="p">[]</span><span class="w"> </span><span class="n">signatureBytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">signer</span><span class="p">.</span><span class="n">GenerateSignature</span><span class="p">();</span>


<span class="w">            </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;execution_time : {0}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">execution_time</span><span class="p">);</span>
<span class="w">            </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;eformsign_signature : {0}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ByteArrayToHexString</span><span class="p">(</span><span class="n">signatureBytes</span><span class="p">));</span>
<span class="w">        </span><span class="p">}</span>


<span class="w">        </span><span class="k">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="nf">ByteArrayToHexString</span><span class="p">(</span><span class="kt">byte</span><span class="p">[]</span><span class="w"> </span><span class="n">data</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">StringBuilder</span><span class="w"> </span><span class="n">builder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">StringBuilder</span><span class="p">();</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="n">builder</span><span class="p">.</span><span class="n">Append</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">ToString</span><span class="p">(</span><span class="s">&quot;x2&quot;</span><span class="p">));</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">builder</span><span class="p">.</span><span class="n">ToString</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>


<span class="w">        </span><span class="k">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">byte</span><span class="p">[]</span><span class="w"> </span><span class="nf">HexStringToByteArray</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">hexString</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hexString</span><span class="p">.</span><span class="n">Length</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="m">0</span><span class="p">)</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nf">ArgumentException</span><span class="p">(</span><span class="s">&quot;{0} must have an even length&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">nameof</span><span class="p">(</span><span class="n">hexString</span><span class="p">));</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="kt">byte</span><span class="p">[]</span><span class="w"> </span><span class="n">bytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">byte</span><span class="p">[</span><span class="n">hexString</span><span class="p">.</span><span class="n">Length</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">2</span><span class="p">];</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">bytes</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="kt">string</span><span class="w"> </span><span class="n">currentHex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hexString</span><span class="p">.</span><span class="n">Substring</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">);</span>
<span class="w">                </span><span class="n">bytes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Convert</span><span class="p">.</span><span class="n">ToByte</span><span class="p">(</span><span class="n">currentHex</span><span class="p">,</span><span class="w"> </span><span class="m">16</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">bytes</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div></section>
</section>
<section id="id4">
<h2>API提供リスト<a class="headerlink" href="#id4" title="この見出しへのパーマリンク"></a></h2>
<p>eformsign APIは、署名を作成するためのAPIと文書の作成・処理のためのAPI、メンバーおよびグループ管理のためのAPIの3つのAPIで構成されています。</p>
<section id="access-token-api">
<span id="id5"></span><h3>トークンの発行と更新のAPI<a class="headerlink" href="#access-token-api" title="この見出しへのパーマリンク"></a></h3>
<p>APIを使用するためには、まずAccess Tokenを発行する必要があります。発行したトークンには有効期限があり、有効期間経過後は更新または再発行が必要です。</p>
<section id="id6">
<h4><strong>トークンの発行</strong><a class="headerlink" href="#id6" title="この見出しへのパーマリンク"></a></h4>
<p>API KeyによりAccess Tokenを発行するAPIです。</p>
<p><code class="docutils literal notranslate"><span class="pre">POST</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/token/post-api_auth-access_token">Access Tokenの発行</a></p>
<p>Access Token APIに関するより詳しい説明は
<a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/token">こちら</a>からご確認いただけます。</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>トークンを発行するには、以下の各内容を入力してください。</p>
<ul class="simple">
<li><p>Authorize: eformsignから発行されたAPIキーをBase64でエンコードした値を入力します。</p></li>
<li><p>Header: 生成した署名値(eformsign_signature) (* <a class="reference external" href="#apikey">参考</a>: APIキー発行の際に設定した検証タイプによって異なります)</p></li>
<li><p>Request body: 署名生成時間(execution_time)とアカウントID(member_id)を入力します。</p></li>
</ul>
<p><a class="reference internal" href="../_images/execution_time.png"><img alt="image5" src="../_images/execution_time.png" style="width: 450px;" /></a></p>
<p>メンバーの情報なしでトークンを発行することもできます。この場合、Request bodyに署名生成時間(execution_time)のみを入力してください。
ただし、このトークンでは、新規文書作成などのメンバー情報が必要なAPIを利用することはできません。</p>
<p><a class="reference internal" href="../_images/execution_time2.png"><img alt="image6" src="../_images/execution_time2.png" style="width: 450px;" /></a></p>
<p>必要な値を入力してAPIを呼び出すとAccess Tokenが発行され、以下のような形式の応答を受け取ることができます。APIの利用に必要なoauth_token.access_token、トークンの更新に必要なoauth_token.refresh_token、トークンの有効時間を表すoauth_token.expires_in、API呼び出しサーバーを表すapi_key.company.api_urlをご確認ください。</p>
<div class="highlight-JSON notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;api_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;アプリケーション_&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;alias&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;テスト用&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;company&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;company_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dec5418e58694d90a65d6c38e3d226db&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;サンプル デモ&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;api_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://jp-api.eformsign.com&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="nt">&quot;oauth_token&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;expires_in&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;token_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JWT&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;refresh_token&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;8fd0a3c1-44dc-4a03-96ad-01fa34cd159c&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;access_token&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;eyJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJlZm9ybXNpZ24uaWFtIiwiY29udGV4dCI6eyJjbGllbnRJZCI6IjY4MDk0ZWVhMjVhZjRhNjI5ZTI4ZGU5Y2ZlYzRlYmZjIiwiY2xpZW50S2V5IjoiZTNiM2IzZTUtMGEzMS00NTE1LWE5NzEtN2M4Y2FlNDI4NzZmIiwibWFuYWdlbWVudElkIjoiMzRhYWI4MDBjMmEwNDQwNThmZDRlZjc5OGFlY2RlY2EiLCJzY29wZXMiOiJzbWFydF9lZm9ybV9zY29wZSIsInR5cGUiOiJ1c2VyIiwidXNlck5hbWUiOiIzMmIzZDRmOC00MjdkLTRjZjQtOTZiYS1mYzAxNjIxNWRkNDciLCJ1c2VySWQiOiJhNTEyNGVkNmU2M2Y0OTMzOGJlOTA0MjVhNjFkYjlmNSIsInJlZnJlc2hUb2tlbiI6IjhmZDBhM2MxLTQ0ZGMtNGEwMy05NmFkLTAxZmEzNGNkMTU5YyJ9LCJjbGFpbSI6eyJjb21wYW55X2lkIjoiZGVjNTQxOGU1ODY5NGQ5MGE2NWQ2YzM4ZTNkMjI2ZGIiLCJhY2Nlc3Nfa2V5IjoiMzJiM2Q0ZjgtNDI3ZC00Y2Y0LTk2YmEtZmMwMTYyMTVkZDQ3In0sImV4cCI6MTYxMTU0MjIzNiwiaWF0IjoxNjExNTM4NjM2fQ.BltoXXBSabjXfpyLsZik9OZTE5XtLqe9lguMmJ_qfwZN1NyoVoxDqA5y1-_TLis7FvvNjfI1eegOroCZDZPFyXRaBxAj0CW8TijVjbhliJBuccHFyKXaJxmo_GMmTHYtxNNB1SUgLeFIrYROnpQndU8J7ZkfPDgYGwh1YSx-5s4&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition caution">
<p class="admonition-title">注意</p>
<p>署名の作成には30秒の時間制限があります。30秒以内に署名を作成し、トークンを取得する必要があります。
また、サーバー時刻と現在時刻が一致しない場合があります。Access Token APIを呼び出し、受信した応答メッセージの &quot;execution_time&quot; を確認してください。</p>
<div class="highlight-JSON notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;4000002&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;ErrorMessage&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;The validation time has expired.&quot;</span><span class="p">,</span><span class="w">     </span><span class="nt">&quot;execution_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1611538409405</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</section>
<section id="id8">
<h4><strong>トークンの更新</strong><a class="headerlink" href="#id8" title="この見出しへのパーマリンク"></a></h4>
<p>トークンの有効期限は3600秒（1時間）となっています。
トークンの有効期限が切れると、トークンによりAPIを利用できなくなります。以下のAPIを使用してトークンを更新してください。</p>
<p><code class="docutils literal notranslate"><span class="pre">POST</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/token/post-api_auth-refresh_token">Access Token 갱신</a></p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>トークン更新のためにはAccess TokenをAuthorizeに、Refresh TokenをQueryに入力する必要があります。</p>
</div>
<div class="admonition caution">
<p class="admonition-title">注意</p>
<p>トークンの有効期限が切れてから一定時間が経過すると、refresh_tokenが無効であるという応答を受け取ることがあります。この場合、<a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/token/post-api_auth-access_token">Access Tokenの発行API</a>によりトークンを再発行してください。</p>
</div>
</section>
</section>
<hr class="docutils" />
<section id="id10">
<h3>文書の作成と処理のAPI<a class="headerlink" href="#id10" title="この見出しへのパーマリンク"></a></h3>
<p>署名の生成後は、以下の文書APIを使用して新規文書の作成、文書情報の照会、完了文書ファイル(文書PDF、監査証跡証明書)のダウンロード、文書の添付ファイルのダウンロードを行うことができます。</p>
<div class="admonition caution">
<p class="admonition-title">注意</p>
<p>本文書のAPIを使用するためには、Access Tokenを先に発行する必要があります。Access Token API &lt;<a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/token/post-api_auth-access_token">https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/token/post-api_auth-access_token</a>&gt;`_で発行したAccess Tokenを <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/">こちら</a>にある <strong>Authorize</strong> ボタン(<img alt="image4" src="../_images/authorize_icon.png" />)を押して登録してください。</p>
</div>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>Access Token APIの <strong>Authorize</strong> ボタンにはAPIキー値の入力が必要です。</p>
</div>
<p>現在提供中の <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/document">文書API</a>は以下のとおりです。</p>
<p><code class="docutils literal notranslate"><span class="pre">POST</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/document/post-api-documents">文書の新規作成_内部受信者</a></p>
<p><code class="docutils literal notranslate"><span class="pre">POST</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/document/post-api-documents-external">文書の新規作成_外部受信者</a></p>
<p><code class="docutils literal notranslate"><span class="pre">GET</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/document/get-api-documents-DOCUMENT_ID">文書情報の照会</a></p>
<p><code class="docutils literal notranslate"><span class="pre">GET</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/document/get-api-documents-DOCUMENT_ID-download_files">文書ファイルのダウンロード_文書PDFおよび監査証跡証明書</a></p>
<p><code class="docutils literal notranslate"><span class="pre">GET</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/document/get-api-documents-DOCUMENT_ID-download_attach_files">添付ファイルのダウンロード</a></p>
<p><code class="docutils literal notranslate"><span class="pre">GET</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/document/get-api-documents">文書リストの照会</a></p>
<p><code class="docutils literal notranslate"><span class="pre">POST</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/document/post-api-list-documents">文書リストの照会(POST)</a></p>
<p><code class="docutils literal notranslate"><span class="pre">DELETE</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/document/delete-api-documents">文書の削除</a></p>
<p><code class="docutils literal notranslate"><span class="pre">DELETE</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/document/post-api-documents-cancel">文書の無効化</a></p>
<p><code class="docutils literal notranslate"><span class="pre">POST</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/document/post-api-documents-document_id-re_request_outsider">外部受信者に対する再依頼</a></p>
<p><code class="docutils literal notranslate"><span class="pre">POST</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/document/post-api-forms-mass_documents%3Ftemplate_id%3D-form_id">文書の一括生成</a></p>
<p><code class="docutils literal notranslate"><span class="pre">POST</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/document/post-api-forms%2Fmass_multi_documents">文書の一括作成_複数テンプレート</a></p>
<p><code class="docutils literal notranslate"><span class="pre">POST</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/document/get-api-companies-COMPANY_ID-use_status">利用状況の照会</a></p>
<p><code class="docutils literal notranslate"><span class="pre">POST</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/document/post-api-document-DOCUMENT_ID-decline">内部受信者の差戻し</a></p>
<p><code class="docutils literal notranslate"><span class="pre">POST</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/document/post-api-document-DOCUMENT_ID-external_decline">外部受信者の差戻し</a></p>
<p><code class="docutils literal notranslate"><span class="pre">GET</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/document/get-api-forms">作成可能なテンプレートリストの照会</a></p>
<p><code class="docutils literal notranslate"><span class="pre">DELETE</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/document/delete-forms">テンプレートの削除</a></p>
</section>
<hr class="docutils" />
<section id="id27">
<h3>メンバーとグループ管理のAPI<a class="headerlink" href="#id27" title="この見出しへのパーマリンク"></a></h3>
<p>APIを使用してメンバーとグループを管理することができます。メンバーとグループのリストの照会、メンバーとグループの修正、削除を行うことができます。</p>
<div class="admonition caution">
<p class="admonition-title">注意</p>
<p>本文書のAPIを使用するには、Access Tokenの取得が必要です。<a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0_auth">Access Token API</a>で取得した Access Tokenを <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/">こちら</a>にある <strong>Authorize</strong> ボタン (<img alt="image4" src="../_images/authorize_icon.png" />) を押して登録してください。</p>
</div>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>APIの <strong>Authorize</strong> ボタンにはAPIキー値の入力が必要です。</p>
</div>
<p>現在提供している <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/members">メンバーとグループ管理のAPI</a>は以下のとおりです。</p>
<section id="id30">
<h4>メンバー管理 API<a class="headerlink" href="#id30" title="この見出しへのパーマリンク"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">GET</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/members/get-api-members">メンバーリストの照会</a></p>
<p><code class="docutils literal notranslate"><span class="pre">PATCH</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/members/patch-api-members-member_id">メンバー修正</a></p>
<p><code class="docutils literal notranslate"><span class="pre">DELETE</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/members/delete-api-members-member_id">メンバー削除</a></p>
</section>
<section id="id34">
<h4>グループ管理 API<a class="headerlink" href="#id34" title="この見出しへのパーマリンク"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">GET</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/groups/get-api-groups">グループリストの照会</a></p>
<p><code class="docutils literal notranslate"><span class="pre">POST</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/groups/post-api-groups">グループ追加</a></p>
<p><code class="docutils literal notranslate"><span class="pre">PATCH</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/groups/patch-api-groups">グループ修正</a></p>
<p><code class="docutils literal notranslate"><span class="pre">DELETE</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/groups/delete-api-groups">グループ削除</a></p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>各eformsign APIについての詳しい説明は <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api.jp/eformsign_API_2.0/2.0#/">こちら</a>をご覧ください。</p>
</div>
</section>
</section>
</section>
<section id="id39">
<h2>APIコード<a class="headerlink" href="#id39" title="この見出しへのパーマリンク"></a></h2>
<p>Open APIを使用する際は、以下のコードをご参照ください。</p>
<section id="id40">
<h3>APIステータスコード<a class="headerlink" href="#id40" title="この見出しへのパーマリンク"></a></h3>
<p>APIステータスコードは、以下の通りです。</p>
<section id="id41">
<h4>200<a class="headerlink" href="#id41" title="この見出しへのパーマリンク"></a></h4>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Code</p></th>
<th class="head"><p>説明</p></th>
<th class="head"><p>備考</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>200</p></td>
<td><p>成功</p></td>
<td><p>成功</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id42">
<h4>202<a class="headerlink" href="#id42" title="この見出しへのパーマリンク"></a></h4>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Code</p></th>
<th class="head"><p>説明</p></th>
<th class="head"><p>備考</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2020001</p></td>
<td><p>PDF生成中</p></td>
<td><ul class="simple">
<li><p>PDFファイルとしてダウンロードする際、非同期で作成されるため、文書保存後にPDFファイルの生成まで時間が必要</p></li>
<li><p>数秒から数分後に再度リクエストすることでダウンロード可能</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id43">
<h4>400<a class="headerlink" href="#id43" title="この見出しへのパーマリンク"></a></h4>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Code</p></th>
<th class="head"><p>説明</p></th>
<th class="head"><p>備考</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>4000001</p></td>
<td><p>必須入力値漏れ</p></td>
<td><p>APIの必須入力値（ヘッダー値またはパラメーター）が入力されていない場合</p></td>
</tr>
<tr class="row-odd"><td><p>4000002</p></td>
<td><p>時間切れ</p></td>
<td><p>API認証のリクエストが時間切れとなった場合</p></td>
</tr>
<tr class="row-even"><td><p>4000003</p></td>
<td><p>APIキーが存在しない</p></td>
<td><p>削除されたAPIキーまたは入力ミスの場合</p></td>
</tr>
<tr class="row-odd"><td><p>4000004</p></td>
<td><p>文書が存在しない</p></td>
<td><p>間違った文書IDを入力した場合</p></td>
</tr>
<tr class="row-even"><td><p>4000005</p></td>
<td><p>会社が存在しない</p></td>
<td><p>会社が削除された場合</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id44">
<h4>403<a class="headerlink" href="#id44" title="この見出しへのパーマリンク"></a></h4>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Code</p></th>
<th class="head"><p>説明</p></th>
<th class="head"><p>備考</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>4030001</p></td>
<td><p>アクセス権限なし</p></td>
<td><p>APIが非活性状態の場合</p></td>
</tr>
<tr class="row-odd"><td><p>4030002</p></td>
<td><p>Access Token認証エラー</p></td>
<td><p>Access Tokenが正しくない場合</p></td>
</tr>
<tr class="row-even"><td><p>4030003</p></td>
<td><p>Refresh Token認証エラー</p></td>
<td><p>Refresh Tokenが正しくない場合</p></td>
</tr>
<tr class="row-odd"><td><p>4030004</p></td>
<td><p>署名値検証エラー</p></td>
<td><p>署名値が正しくない場合</p></td>
</tr>
<tr class="row-even"><td><p>4030005</p></td>
<td><p>サポートされていないAPI</p></td>
<td><p>サポートされていないAPIを呼び出した場合</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id45">
<h4>405<a class="headerlink" href="#id45" title="この見出しへのパーマリンク"></a></h4>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Code</p></th>
<th class="head"><p>説明</p></th>
<th class="head"><p>備考</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>4050001</p></td>
<td><p>サポートされていないmethod</p></td>
<td><p>サポートされていないmethodを呼び出した場合</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id46">
<h4>500<a class="headerlink" href="#id46" title="この見出しへのパーマリンク"></a></h4>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Code</p></th>
<th class="head"><p>説明</p></th>
<th class="head"><p>備考</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>5000001~5000003</p></td>
<td><p>サーバーエラー</p></td>
<td><p>サーバーエラーが発生した場合</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<hr class="docutils" />
<section id="user-type">
<h3>ユーザータイプ(user_type)<a class="headerlink" href="#user-type" title="この見出しへのパーマリンク"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Code</p></th>
<th class="head"><p>설명</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>内部受信者</p></td>
<td><p>01</p></td>
<td><p>会社に所属する内部メンバーの場合</p></td>
</tr>
<tr class="row-odd"><td><p>外部受信者</p></td>
<td><p>02</p></td>
<td><p>会社に所属しない外部メンバーの場合</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id47">
<h3>ステップタイプ<a class="headerlink" href="#id47" title="この見出しへのパーマリンク"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Code</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Start</p></td>
<td><p>00</p></td>
<td><p>開始ステップ</p></td>
</tr>
<tr class="row-odd"><td><p>Complete</p></td>
<td><p>01</p></td>
<td><p>完了ステップ</p></td>
</tr>
<tr class="row-even"><td><p>Approval</p></td>
<td><p>02</p></td>
<td><p>決裁ステップ(旧)</p></td>
</tr>
<tr class="row-odd"><td><p>External</p></td>
<td><p>03</p></td>
<td><p>外部受信者ステップ(旧)</p></td>
</tr>
<tr class="row-even"><td><p>Accept</p></td>
<td><p>04</p></td>
<td><p>内部受信者ステップ(旧)</p></td>
</tr>
<tr class="row-odd"><td><p>Participant</p></td>
<td><p>05</p></td>
<td><p>参加者</p></td>
</tr>
<tr class="row-even"><td><p>Reviewer</p></td>
<td><p>06</p></td>
<td><p>検討者</p></td>
</tr>
<tr class="row-odd"><td><p>Viewer</p></td>
<td><p>07</p></td>
<td><p>閲覧者</p></td>
</tr>
</tbody>
</table>
</section>
<section id="current-status-status-type">
<h3>文書の現在のステータスタイプ (current_status.status_type)<a class="headerlink" href="#current-status-status-type" title="この見出しへのパーマリンク"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Code</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>doc_tempsave</p></td>
<td><p>001</p></td>
<td><p>下書き保存 (作成者が下書きとして保存した状態)</p></td>
</tr>
<tr class="row-odd"><td><p>doc_create</p></td>
<td><p>002</p></td>
<td><p>文書の作成</p></td>
</tr>
<tr class="row-even"><td><p>doc_complete</p></td>
<td><p>003</p></td>
<td><p>文書の完了</p></td>
</tr>
<tr class="row-odd"><td><p>doc_update</p></td>
<td><p>043</p></td>
<td><p>文書の修正</p></td>
</tr>
<tr class="row-even"><td><p>doc_request_delete</p></td>
<td><p>047</p></td>
<td><p>文書の削除依頼</p></td>
</tr>
<tr class="row-odd"><td><p>doc_delete</p></td>
<td><p>049</p></td>
<td><p>文書の削除</p></td>
</tr>
<tr class="row-even"><td><p>doc_request_revoke</p></td>
<td><p>040</p></td>
<td><p>文書の無効化依頼</p></td>
</tr>
<tr class="row-odd"><td><p>doc_revoke</p></td>
<td><p>042</p></td>
<td><p>文書の無効化</p></td>
</tr>
<tr class="row-even"><td><p>doc_request_reject</p></td>
<td><p>045</p></td>
<td><p>文書の差戻し依頼</p></td>
</tr>
<tr class="row-odd"><td><p>doc_request_participant</p></td>
<td><p>060</p></td>
<td><p>参加者に依頼</p></td>
</tr>
<tr class="row-even"><td><p>doc_accept_participant</p></td>
<td><p>062</p></td>
<td><p>参加者の承認</p></td>
</tr>
<tr class="row-odd"><td><p>doc_reject_participant</p></td>
<td><p>061</p></td>
<td><p>参加者の差戻し</p></td>
</tr>
<tr class="row-even"><td><p>doc_request_reviewer</p></td>
<td><p>070</p></td>
<td><p>検討者に依頼</p></td>
</tr>
<tr class="row-odd"><td><p>doc_accept_reviewer</p></td>
<td><p>072</p></td>
<td><p>検討者の承認</p></td>
</tr>
<tr class="row-even"><td><p>doc_reject_reviewer</p></td>
<td><p>071</p></td>
<td><p>検討者の差戻し</p></td>
</tr>
</tbody>
</table>
</section>
<section id="next-status-status-type">
<h3>文書の문서 다음 상태 타입(next_status.status_type)<a class="headerlink" href="#next-status-status-type" title="この見出しへのパーマリンク"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Code</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>下書き保存</p></td>
<td><p>00</p></td>
<td><p>開始ステップで下書きとして保存した状態</p></td>
</tr>
<tr class="row-odd"><td><p>進行中</p></td>
<td><p>01</p></td>
<td><p>決裁依頼、外部受信者に依頼、閲覧、内部受信者に依頼</p></td>
</tr>
<tr class="row-even"><td><p>修正中</p></td>
<td><p>02</p></td>
<td><p>文書の修正中 (内部受信者、作成者)</p></td>
</tr>
<tr class="row-odd"><td><p>完了</p></td>
<td><p>03</p></td>
<td><p>文書が完了した状態</p></td>
</tr>
<tr class="row-even"><td><p>差戻し</p></td>
<td><p>04</p></td>
<td><p>決済の差戻し、内部受信者の差戻し、外部受信者の差戻し</p></td>
</tr>
<tr class="row-odd"><td><p>無効化</p></td>
<td><p>05</p></td>
<td><p>文書が無効化された状態</p></td>
</tr>
<tr class="row-even"><td><p>無効化依頼</p></td>
<td><p>06</p></td>
<td><p>内部受信者のステップ</p></td>
</tr>
</tbody>
</table>
</section>
<section id="action-type">
<h3>アクションタイプ(action_type)<a class="headerlink" href="#action-type" title="この見出しへのパーマリンク"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Code</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>doc_tempsave</p></td>
<td><p>001</p></td>
<td><p>文書の下書き保存</p></td>
</tr>
<tr class="row-odd"><td><p>doc_create</p></td>
<td><p>002</p></td>
<td><p>文書の生成</p></td>
</tr>
<tr class="row-even"><td><p>doc_complete</p></td>
<td><p>003</p></td>
<td><p>文書の完了</p></td>
</tr>
<tr class="row-odd"><td><p>doc_request_approval</p></td>
<td><p>010</p></td>
<td><p>決裁の依頼</p></td>
</tr>
<tr class="row-even"><td><p>doc_reject_approval</p></td>
<td><p>011</p></td>
<td><p>決裁の差戻し</p></td>
</tr>
<tr class="row-odd"><td><p>doc_accept_approval</p></td>
<td><p>012</p></td>
<td><p>決裁の承認</p></td>
</tr>
<tr class="row-even"><td><p>doc_cancel</p></td>
<td><p>013</p></td>
<td><p>決裁依頼のキャンセル</p></td>
</tr>
<tr class="row-odd"><td><p>doc_request_reception</p></td>
<td><p>020</p></td>
<td><p>内部受信者に依頼</p></td>
</tr>
<tr class="row-even"><td><p>doc_reject_reception</p></td>
<td><p>021</p></td>
<td><p>内部受信者の差戻し</p></td>
</tr>
<tr class="row-odd"><td><p>doc_accept_reception</p></td>
<td><p>022</p></td>
<td><p>内部受信者の承認</p></td>
</tr>
<tr class="row-even"><td><p>doc_accept_tempsave</p></td>
<td><p>023</p></td>
<td><p>内部受信者の下書き保存</p></td>
</tr>
<tr class="row-odd"><td><p>doc_request_outsider</p></td>
<td><p>030</p></td>
<td><p>外部受信者に依頼</p></td>
</tr>
<tr class="row-even"><td><p>doc_reject_outsider</p></td>
<td><p>031</p></td>
<td><p>外部受信者の差戻し</p></td>
</tr>
<tr class="row-odd"><td><p>doc_accept_outsider</p></td>
<td><p>032</p></td>
<td><p>外部受信者の承認</p></td>
</tr>
<tr class="row-even"><td><p>doc_rerequest_outsider</p></td>
<td><p>033</p></td>
<td><p>外部受信者に再依頼</p></td>
</tr>
<tr class="row-odd"><td><p>doc_open_outsider</p></td>
<td><p>034</p></td>
<td><p>外部受信者の閲覧</p></td>
</tr>
<tr class="row-even"><td><p>doc_outsider_tempsave</p></td>
<td><p>035</p></td>
<td><p>外部受信者の下書き保存</p></td>
</tr>
<tr class="row-odd"><td><p>doc_request_revoke</p></td>
<td><p>040</p></td>
<td><p>無効化の依頼</p></td>
</tr>
<tr class="row-even"><td><p>doc_refuse_revoke</p></td>
<td><p>041</p></td>
<td><p>無効化依頼の依頼拒否</p></td>
</tr>
<tr class="row-odd"><td><p>doc_revoke</p></td>
<td><p>042</p></td>
<td><p>無効化</p></td>
</tr>
<tr class="row-even"><td><p>doc_update</p></td>
<td><p>043</p></td>
<td><p>文書の修正</p></td>
</tr>
<tr class="row-odd"><td><p>doc_cancel_update</p></td>
<td><p>044</p></td>
<td><p>文書修正のキャンセル</p></td>
</tr>
<tr class="row-even"><td><p>doc_request_reject</p></td>
<td><p>045</p></td>
<td><p>文書差戻しの依頼</p></td>
</tr>
<tr class="row-odd"><td><p>doc_refuse_reject</p></td>
<td><p>046</p></td>
<td><p>文書差戻し依頼の拒否</p></td>
</tr>
<tr class="row-even"><td><p>doc_request_delete</p></td>
<td><p>047</p></td>
<td><p>文書削除の依頼</p></td>
</tr>
<tr class="row-odd"><td><p>doc_refuse_delete</p></td>
<td><p>048</p></td>
<td><p>文書削除依頼の拒否</p></td>
</tr>
<tr class="row-even"><td><p>doc_delete</p></td>
<td><p>049</p></td>
<td><p>文書の削除</p></td>
</tr>
<tr class="row-odd"><td><p>doc_complete_send_pdf</p></td>
<td><p>050</p></td>
<td><p>完了文書をPDFファイルで送信</p></td>
</tr>
<tr class="row-even"><td><p>doc_transfer</p></td>
<td><p>051</p></td>
<td><p>文書の移管</p></td>
</tr>
<tr class="row-odd"><td><p>doc_request_participant</p></td>
<td><p>060</p></td>
<td><p>参加者に依頼</p></td>
</tr>
<tr class="row-even"><td><p>doc_reject_participant</p></td>
<td><p>061</p></td>
<td><p>参加者の差戻し</p></td>
</tr>
<tr class="row-odd"><td><p>doc_accept_participant</p></td>
<td><p>062</p></td>
<td><p>参加者の承認</p></td>
</tr>
<tr class="row-even"><td><p>doc_rerequest_participant</p></td>
<td><p>063</p></td>
<td><p>参加者に再依頼(外部受信者)</p></td>
</tr>
<tr class="row-odd"><td><p>doc_open_participant</p></td>
<td><p>064</p></td>
<td><p>参加者の閲覧(外部受信者)</p></td>
</tr>
<tr class="row-even"><td><p>doc_request_reviewer</p></td>
<td><p>070</p></td>
<td><p>検討者に依頼</p></td>
</tr>
<tr class="row-odd"><td><p>doc_reject_reviewer</p></td>
<td><p>071</p></td>
<td><p>検討者の差戻し</p></td>
</tr>
<tr class="row-even"><td><p>doc_request_reviewer</p></td>
<td><p>072</p></td>
<td><p>検討者の承認</p></td>
</tr>
<tr class="row-odd"><td><p>doc_rerequest_reviewer</p></td>
<td><p>073</p></td>
<td><p>検討者に再依頼(外部受信者)</p></td>
</tr>
<tr class="row-even"><td><p>doc_open_review</p></td>
<td><p>074</p></td>
<td><p>検討者の閲覧(外部受信者)</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
<<<<<<< HEAD
        <a href="eformsign_embedding.html" class="btn btn-neutral float-left" title="eformsign機能の埋め込み" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
=======
        <a href="eformsign_api_quickstart.html" class="btn btn-neutral float-left" title="eformsign APIの始め方：実践ガイド" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
>>>>>>> 4636b0ec54ff45c67e40e0320ee6a3b82bfb21b6
        <a href="eformsign_webhook.html" class="btn btn-neutral float-right" title="eformsign Webhookの使い方" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
<<<<<<< HEAD
    <p>&#169; Copyright 2021. FORCS CO., LTD. All rights reserved.</p>
=======
    <p>&#169; Copyright 2024. FORCS CO., LTD. All rights reserved.</p>
>>>>>>> 4636b0ec54ff45c67e40e0320ee6a3b82bfb21b6
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>